# The apphosting.yaml schema is defined here:
# https://firebase.google.com/docs/hosting/app-hosting/apphosting-yaml-schema
run:
  build:
    - npm i
    - npm run build
  start: npm run start
backend:
  id: vitallink-backend
  region: us-central1
  ingress-settings: ALLOW_ALL
  secretEnvironmentVariables:
    - key: CRON_SECRET
      secret: CRON_JOB_SECRET
    - key: FIREBASE_SERVICE_ACCOUNT_KEY
      secret: FIREBASE_SERVICE_ACCOUNT_KEY
    - key: META_APP_SECRET
      secret: META_APP_SECRET
    - key: META_WEBHOOK_VERIFY_TOKEN
      secret: META_WEBHOOK_VERIFY_TOKEN
    - key: STRIPE_SECRET_KEY
      secret: STRIPE_SECRET_KEY
    - key: STRIPE_WEBHOOK_SECRET
      secret: STRIPE_WEBHOOK_SECRET
    - key: WHATSAPP_ACCESS_TOKEN
      secret: WHATSAPP_ACCESS_TOKEN
    - key: WHATSAPP_PHONE_NUMBER_ID
      secret: WHATSAPP_PHONE_NUMBER_ID
