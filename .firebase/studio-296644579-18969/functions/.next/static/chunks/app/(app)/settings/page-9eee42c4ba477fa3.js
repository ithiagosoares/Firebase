(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{1554:(e,r,s)=>{"use strict";s.d(r,{ZJ:()=>o,R8:()=>d,As:()=>u,D3:()=>c,sh:()=>m,jt:()=>p,$e:()=>f,Jd:()=>h});var a=s(95155),t=s(12115),i=s(59253),n=s(9891);function l(){let[e,r]=(0,t.useState)(null);if((0,t.useEffect)(()=>{let e=e=>{r(e)};return n.d.on("permission-error",e),()=>{n.d.off("permission-error",e)}},[]),e)throw e;return null}let o=(0,t.createContext)(void 0),d=e=>{let{children:r,firebaseApp:s,firestore:n,auth:d}=e,[c,u]=(0,t.useState)({user:null,isUserLoading:!0,userError:null});(0,t.useEffect)(()=>{if(!d)return void u({user:null,isUserLoading:!1,userError:Error("Auth service not provided.")});u({user:null,isUserLoading:!0,userError:null});let e=(0,i.hg)(d,e=>{u({user:e,isUserLoading:!1,userError:null})},e=>{console.error("FirebaseProvider: onAuthStateChanged error:",e),u({user:null,isUserLoading:!1,userError:e})});return()=>e()},[d]);let p=(0,t.useMemo)(()=>{let e=!!(s&&n&&d);return{areServicesAvailable:e,firebaseApp:e?s:null,firestore:e?n:null,auth:e?d:null,user:c.user,isUserLoading:c.isUserLoading,userError:c.userError}},[s,n,d,c]);return(0,a.jsxs)(o.Provider,{value:p,children:[(0,a.jsx)(l,{}),r]})},c=()=>{let e=(0,t.useContext)(o);if(void 0===e)throw Error("useFirebase must be used within a FirebaseProvider.");if(!e.areServicesAvailable||!e.firebaseApp||!e.firestore||!e.auth)throw Error("Firebase core services not available. Check FirebaseProvider props.");return{firebaseApp:e.firebaseApp,firestore:e.firestore,auth:e.auth,user:e.user,isUserLoading:e.isUserLoading,userError:e.userError}},u=()=>{let{auth:e}=c();return e},p=()=>{let{firestore:e}=c();return e},m=()=>{let{firebaseApp:e}=c();return e};function f(e,r){let s=(0,t.useMemo)(e,r);return"object"!=typeof s||null===s||(s.__memo=!0),s}let h=()=>{let{user:e,isUserLoading:r,userError:s}=c();return{user:e,isUserLoading:r,userError:s}}},3998:(e,r,s)=>{"use strict";s.d(r,{$:()=>d,r:()=>o});var a=s(95155),t=s(12115),i=s(32467),n=s(83101),l=s(64269);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=t.forwardRef((e,r)=>{let{className:s,variant:t,size:n,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:t,size:n,className:s})),ref:r,...c})});d.displayName="Button"},9891:(e,r,s)=>{"use strict";s.d(r,{d:()=>a});let a=function(){let e={};return{on(r,s){var a;e[r]||(e[r]=[]),null==(a=e[r])||a.push(s)},off(r,s){var a;e[r]&&(e[r]=null==(a=e[r])?void 0:a.filter(e=>e!==s))},emit(r,s){var a;e[r]&&(null==(a=e[r])||a.forEach(e=>e(s)))}}}()},11186:(e,r,s)=>{"use strict";s.d(r,{bq:()=>p,eb:()=>x,gC:()=>h,l6:()=>c,yv:()=>u});var a=s(95155),t=s(12115),i=s(91432),n=s(59007),l=s(42614),o=s(72251),d=s(64269);let c=i.bL;i.YJ;let u=i.WT,p=t.forwardRef((e,r)=>{let{className:s,children:t,...l}=e;return(0,a.jsxs)(i.l9,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[t,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=i.l9.displayName;let m=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(i.PP,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});m.displayName=i.PP.displayName;let f=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(i.wn,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=i.wn.displayName;let h=t.forwardRef((e,r)=>{let{className:s,children:t,position:n="popper",...l}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:r,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...l,children:[(0,a.jsx)(m,{}),(0,a.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,a.jsx)(f,{})]})})});h.displayName=i.UC.displayName,t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(i.JU,{ref:r,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t})}).displayName=i.JU.displayName;let x=t.forwardRef((e,r)=>{let{className:s,children:t,...n}=e;return(0,a.jsxs)(i.q7,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:t})]})});x.displayName=i.q7.displayName,t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(i.wv,{ref:r,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...t})}).displayName=i.wv.displayName},11647:(e,r,s)=>{"use strict";s.d(r,{E:()=>l});var a=s(95155);s(12115);var t=s(83101),i=s(64269);let n=(0,t.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:r,variant:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:s}),r),...t})}},15894:(e,r,s)=>{"use strict";s.d(r,{dj:()=>u});var a=s(12115);let t=0,i=new Map,n=e=>{if(i.has(e))return;let r=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,r)},l=[],o={toasts:[]};function d(e){o=((e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=r;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}})(o,e),l.forEach(e=>{e(o)})}function c(e){let{...r}=e,s=(t=(t+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...r,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,r]=a.useState(o);return a.useEffect(()=>(l.push(r),()=>{let e=l.indexOf(r);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},18332:(e,r,s)=>{"use strict";s.d(r,{Fc:()=>o,TN:()=>c,XL:()=>d});var a=s(95155),t=s(12115),i=s(83101),n=s(64269);let l=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=t.forwardRef((e,r)=>{let{className:s,variant:t,...i}=e;return(0,a.jsx)("div",{ref:r,role:"alert",className:(0,n.cn)(l({variant:t}),s),...i})});o.displayName="Alert";let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",s),...t})});d.displayName="AlertTitle";let c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",s),...t})});c.displayName="AlertDescription"},32448:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>W});var a=s(95155),t=s(12115),i=s(20063),n=s(58772),l=s(92033),o=s(73180),d=s(26848),c=s(18527),u=s(92925),p=s(52619),m=s.n(p),f=s(34818),h=s(3998),x=s(86948),v=s(65142),g=s(76444),j=s(25667),b=s(64269);let N=j.bL,y=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(j.B8,{ref:r,className:(0,b.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t})});y.displayName=j.B8.displayName;let w=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(j.l9,{ref:r,className:(0,b.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t})});w.displayName=j.l9.displayName;let S=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(j.UC,{ref:r,className:(0,b.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t})});S.displayName=j.UC.displayName;var C=s(85897),A=s(44846),R=s(11186),k=s(18332),E=s(95125),T=s(15894);function P(){let[e,r]=(0,t.useState)("Desconhecido"),[s,i]=(0,t.useState)(null),[n,o]=(0,t.useState)(!1),{toast:d}=(0,T.dj)(),c=async()=>{o(!0),i(null);try{let e=await E.A.post("".concat("https://vitallink-whatsapp-814805864825.southamerica-east1.run.app","/start-session"),{userId:"vitallink-frontend"});e.data.qr?(r("Aguardando leitura do QR Code"),i(e.data.qr),d({title:"QR Code Gerado",description:"Escaneie o c\xf3digo para conectar."})):"Client is already connected!"===e.data.message?(r("Conectado"),d({title:"Sucesso",description:"A conex\xe3o com o WhatsApp j\xe1 est\xe1 ativa."})):r("Desconectado")}catch(e){console.error("Falha ao conectar com o backend do WhatsApp:",e),r("Erro de conex\xe3o com o servi\xe7o"),d({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel conectar ao servi\xe7o de mensagens."})}finally{o(!1)}};return(0,a.jsxs)(x.Zp,{children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Integra\xe7\xe3o com WhatsApp"}),(0,a.jsx)(x.BT,{children:"Conecte sua conta do WhatsApp para automatizar o envio de mensagens para seus pacientes."})]}),(0,a.jsxs)(x.Wu,{className:"flex flex-col items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"h-3 w-3 rounded-full ".concat("Conectado"===e?"bg-green-500":"bg-red-500")}),(0,a.jsxs)("p",{children:["Status: ",(0,a.jsx)("strong",{children:e})]})]}),s&&(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 p-4 border rounded-md",children:[(0,a.jsx)("p",{className:"text-sm text-center",children:"Escaneie o c\xf3digo abaixo com o app do WhatsApp no seu celular para conectar."}),(0,a.jsx)("img",{src:s,alt:"WhatsApp QR Code",className:"w-48 h-48"})]}),(0,a.jsx)(h.$,{onClick:c,disabled:n,children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Buscando sess\xe3o..."]}):"Verificar Conex\xe3o / Gerar QR Code"})]})]})}var D=s(11647),F=s(99470),L=s(1554),U=s(19708),_=s(3484),B=s(50916),I=s(58134),q=s(59253);function W(){let{toast:e}=(0,T.dj)(),r=(0,i.useRouter)(),[s,p]=(0,t.useState)("account");(0,t.useLayoutEffect)(()=>{let e=window.location.hash.replace("#","");e&&p(e)},[]);let{user:j}=(0,L.Jd)(),E=(0,L.As)(),W=(0,L.jt)(),[J,Z]=(0,t.useState)(null),[$,z]=(0,t.useState)(""),[O,V]=(0,t.useState)(""),[M,H]=(0,t.useState)(""),[G,Q]=(0,t.useState)("https://firebasestorage.googleapis.com/v0/b/studio-296644579-18969.firebasestorage.app/o/perfil_usuario.svg?alt=media&token=bef5fdca-7321-4928-a649-c45def482e59"),[X,K]=(0,t.useState)(null),[Y,ee]=(0,t.useState)(""),[er,es]=(0,t.useState)("Cl\xednica VitalLink"),[ea,et]=(0,t.useState)("Rua das Flores, 123, S\xe3o Paulo, SP"),[ei,en]=(0,t.useState)("12.345.678/0001-90"),[el,eo]=(0,t.useState)("contato@vitallink.com"),[ed,ec]=(0,t.useState)("dpo@vitallink.com"),[eu,ep]=(0,t.useState)(!0),[em,ef]=(0,t.useState)("5"),[eh,ex]=(0,t.useState)(""),[ev,eg]=(0,t.useState)(!1),ej=(0,L.$e)(()=>j?(0,U.H9)(W,"users",j.uid):null,[W,j]),{data:eb}=(0,F.u)(ej);(0,t.useEffect)(()=>{j&&(j.photoURL&&Q(j.photoURL),j.email&&H(j.email))},[j]),(0,t.useEffect)(()=>{if(eb){if(eb.name){let e=eb.name.split(" ");z(e[0]||""),V(e.slice(1).join(" ")||"")}let e=eb.n8nWebhookUrl;e?(ex(e),eg(!0)):eg(!1)}},[eb]);let eN=async()=>{if(ej&&E.currentUser){Z("profile");try{let r=E.currentUser.photoURL;if(X){let e=(0,I.c7)(),s=(0,I.KR)(e,"profile-pictures/".concat(E.currentUser.uid)),a=await (0,I.D)(s,X);r=await (0,I.qk)(a.ref),await (0,q.r7)(E.currentUser,{photoURL:r})}let s="".concat($," ").concat(O).trim();await (0,B.wu)(ej,{name:s,email:M},{merge:!0}),e({title:"Perfil atualizado!",description:"As altera\xe7\xf5es do seu perfil foram salvas com sucesso."})}catch(r){console.error("Error saving profile:",r),e({variant:"destructive",title:"Erro ao salvar",description:"N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es do perfil."})}finally{Z(null),K(null)}}},ey=[{id:"trial",name:"Trial",price:"Gr\xe1tis",priceDescription:"Para testar",features:["Funcionalidade 1","Funcionalidade 2"],isCurrent:(null==eb?void 0:eb.plan)==="Trial"||!(null==eb?void 0:eb.plan),actionText:"Plano atual"},{id:"professional",name:"Profissional",price:"R$ 99",priceDescription:"/m\xeas",highlight:"Mais escolhido",priceId:"price_1PbTrwRpH5Xziv3c2yT7f4gU",features:["Tudo do Trial","Funcionalidade 3"],isCurrent:(null==eb?void 0:eb.plan)==="Profissional",actionText:"Assinar agora"},{id:"team",name:"Equipe",price:"R$ 199",priceDescription:"/m\xeas",priceId:"price_1PbTsjRpH5Xziv3c6r8qF8wJ",features:["Tudo do Profissional","Suporte priorit\xe1rio"],isCurrent:(null==eb?void 0:eb.plan)==="Equipe",actionText:"Fazer Upgrade"}],ew=async(r,s)=>{if(!j||!s)return void e({variant:"destructive",title:"A\xe7\xe3o n\xe3o dispon\xedvel",description:"N\xe3o \xe9 poss\xedvel assinar este plano no momento."});Z(r);try{let e=(0,_.Uz)(void 0,"southamerica-east1"),r=(0,_.Qg)(e,"createCheckoutSession"),{url:a}=(await r({priceId:s,userId:j.uid})).data;if(a)window.open(a,"stripe-checkout","width=600,height=800,top=".concat(window.innerHeight/2-400,",left=").concat(window.innerWidth/2-300));else throw Error("URL de checkout n\xe3o recebida.")}catch(r){console.error("Erro ao criar sess\xe3o de checkout:",r),e({variant:"destructive",title:"Erro ao iniciar pagamento",description:"N\xe3o foi poss\xedvel redirecionar para o checkout."})}finally{Z(null)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.z,{title:"Configura\xe7\xf5es"}),(0,a.jsxs)(N,{value:s,onValueChange:e=>{p(e),r.replace("/settings#".concat(e),{scroll:!1})},className:"w-full",children:[(0,a.jsx)("div",{className:"w-full overflow-x-auto",children:(0,a.jsxs)(y,{className:"inline-flex w-max space-x-2",children:[(0,a.jsx)(w,{value:"account",children:"Conta"}),(0,a.jsx)(w,{value:"company",children:"Empresa"}),(0,a.jsx)(w,{value:"whatsapp","data-tour-id":"whatsapp-tab",children:"WhatsApp Web"}),(0,a.jsx)(w,{value:"integrations",children:"Integra\xe7\xf5es"}),(0,a.jsx)(w,{value:"plans",children:"Planos"}),(0,a.jsx)(w,{value:"payment",children:"Pagamento"}),(0,a.jsx)(w,{value:"policy",children:"LGPD"})]})}),(0,a.jsx)(S,{value:"account",children:(0,a.jsxs)(x.Zp,{children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Perfil"}),(0,a.jsx)(x.BT,{children:"Atualize as informa\xe7\xf5es da sua conta."})]}),(0,a.jsxs)(x.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{children:"Foto de Perfil"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(C.eu,{className:"h-20 w-20",children:[(0,a.jsx)(C.BK,{src:G,alt:"User profile"}),(0,a.jsxs)(C.q5,{children:[$.charAt(0),O.charAt(0)]})]}),(0,a.jsx)(h.$,{asChild:!0,variant:"outline",children:(0,a.jsxs)("label",{htmlFor:"profile-pic-upload",className:"cursor-pointer",children:[(0,a.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Alterar Foto"]})}),(0,a.jsx)("input",{id:"profile-pic-upload",type:"file",className:"hidden",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=e.target.files[0];K(r),Q(URL.createObjectURL(r))}}})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"first-name",children:"Nome"}),(0,a.jsx)(v.p,{id:"first-name",value:$,onChange:e=>z(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"last-name",children:"Sobrenome"}),(0,a.jsx)(v.p,{id:"last-name",value:O,onChange:e=>V(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"email",children:"E-mail"}),(0,a.jsx)(v.p,{id:"email",type:"email",value:M,onChange:e=>H(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"password",children:"Nova Senha"}),(0,a.jsx)(v.p,{id:"password",type:"password",placeholder:"Deixe em branco para n\xe3o alterar",value:Y,onChange:e=>ee(e.target.value)})]})]}),(0,a.jsx)(x.wL,{children:(0,a.jsxs)(h.$,{onClick:eN,disabled:"profile"===J,children:["profile"===J?(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"profile"===J?"Salvando...":"Salvar Altera\xe7\xf5es"]})})]})}),(0,a.jsx)(S,{value:"company",children:(0,a.jsxs)(x.Zp,{children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Configura\xe7\xf5es da Empresa"}),(0,a.jsx)(x.BT,{children:"Gerencie as informa\xe7\xf5es da sua cl\xednica ou consult\xf3rio."})]}),(0,a.jsxs)(x.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"clinic-name",children:"Nome da Cl\xednica"}),(0,a.jsx)(v.p,{id:"clinic-name",value:er,onChange:e=>es(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"address",children:"Endere\xe7o"}),(0,a.jsx)(v.p,{id:"address",value:ea,onChange:e=>et(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"cnpj",children:"CNPJ"}),(0,a.jsx)(v.p,{id:"cnpj",value:ei,onChange:e=>en(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"contact-email",children:"E-mail de Contato"}),(0,a.jsx)(v.p,{id:"contact-email",type:"email",value:el,onChange:e=>eo(e.target.value)})]})]})]}),(0,a.jsx)(x.wL,{children:(0,a.jsx)(h.$,{disabled:!0,children:"Salvar Altera\xe7\xf5es"})})]})}),(0,a.jsx)(S,{value:"whatsapp",children:(0,a.jsx)(P,{})}),(0,a.jsx)(S,{value:"integrations",children:(0,a.jsxs)(x.Zp,{children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Integra\xe7\xf5es"}),(0,a.jsx)(x.BT,{children:"Conecte o VitalLink com outras ferramentas."})]}),(0,a.jsx)(x.Wu,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between p-4 rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(d.A,{className:"h-6 w-6"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"n8n (Automa\xe7\xf5es)"})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["Conecte ao seu webhook do n8n para automatizar o envio de mensagens via WhatsApp.",(0,a.jsx)(m(),{href:"#",className:"ml-1 text-primary hover:underline",children:"Saber mais."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.p,{placeholder:"https://seu-n8n.com/webhook/123",className:"max-w-md",value:eh,onChange:e=>ex(e.target.value),disabled:ev}),ev?(0,a.jsx)(h.$,{variant:"destructive",onClick:()=>{ej&&((0,B.wu)(ej,{n8nWebhookUrl:""},{merge:!0}),ex(""),e({variant:"default",title:"Desconectado!",description:"Sua integra\xe7\xe3o com o n8n foi removida."}))},children:"Desconectar"}):(0,a.jsx)(h.$,{onClick:()=>{if(!ej||!eh)return void e({variant:"destructive",title:"URL Ausente",description:"Por favor, insira a URL do webhook do n8n."});(0,B.wu)(ej,{n8nWebhookUrl:eh},{merge:!0}),e({title:"Conex\xe3o Bem-Sucedida!",description:"Sua conta agora est\xe1 pronta para enviar mensagens via n8n."})},children:"Conectar"})]})]}),ev&&(0,a.jsx)(c.A,{className:"h-5 w-5 text-green-500"})]})})]})}),(0,a.jsx)(S,{value:"plans",children:(0,a.jsxs)(x.Zp,{children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Planos e Assinatura"}),(0,a.jsx)(x.BT,{children:"Escolha o plano que melhor se adapta \xe0s suas necessidades."})]}),(0,a.jsx)(x.Wu,{className:"grid md:grid-cols-3 gap-6",children:ey.map(e=>(0,a.jsxs)(x.Zp,{className:(0,b.cn)("flex flex-col",e.highlight&&"border-primary"),children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsxs)(x.ZB,{className:"flex justify-between items-center",children:[e.name,e.highlight&&(0,a.jsx)(D.E,{variant:"secondary",children:e.highlight})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[e.price," ",(0,a.jsx)("span",{className:"text-sm font-normal text-muted-foreground",children:e.priceDescription})]})]}),(0,a.jsx)(x.Wu,{className:"flex-grow",children:(0,a.jsx)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:e.features.map((e,r)=>(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-primary"}),e]},r))})}),(0,a.jsx)(x.wL,{children:(0,a.jsxs)(h.$,{className:"w-full",onClick:()=>ew(e.id,e.priceId),disabled:e.isCurrent||J===e.id,children:[J===e.id?(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,e.isCurrent?"Plano Atual":"Escolher Plano"]})})]},e.id))})]})}),(0,a.jsx)(S,{value:"payment",children:(0,a.jsxs)(x.Zp,{children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Informa\xe7\xf5es de Pagamento"}),(0,a.jsx)(x.BT,{children:"Gerencie seus m\xe9todos de pagamento e hist\xf3rico de faturas."})]}),(0,a.jsx)(x.Wu,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Em breve voc\xea poder\xe1 gerenciar suas informa\xe7\xf5es de pagamento aqui."})})]})}),(0,a.jsx)(S,{value:"policy",children:(0,a.jsxs)(x.Zp,{children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Privacidade e LGPD"}),(0,a.jsx)(x.BT,{children:"Ajuste as configura\xe7\xf5es de privacidade e conformidade."})]}),(0,a.jsxs)(x.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"dpo-contact",children:"Contato do DPO (Encarregado de Dados)"}),(0,a.jsx)(v.p,{id:"dpo-contact",value:ed,onChange:e=>ec(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g.J,{htmlFor:"allow-export",className:"font-medium",children:"Permitir exporta\xe7\xe3o de consentimentos"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permite que voc\xea exporte um registro de todos os consentimentos obtidos."})]}),(0,a.jsx)(A.d,{id:"allow-export",checked:eu,onCheckedChange:ep})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"retention-period",children:"Per\xedodo de Reten\xe7\xe3o de Dados"}),(0,a.jsxs)(R.l6,{value:em,onValueChange:ef,children:[(0,a.jsx)(R.bq,{className:"w-[280px]",children:(0,a.jsx)(R.yv,{placeholder:"Selecione o per\xedodo"})}),(0,a.jsxs)(R.gC,{children:[(0,a.jsx)(R.eb,{value:"1",children:"1 ano"}),(0,a.jsx)(R.eb,{value:"2",children:"2 anos"}),(0,a.jsx)(R.eb,{value:"5",children:"5 anos (Padr\xe3o)"}),(0,a.jsx)(R.eb,{value:"10",children:"10 anos"})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Define por quanto tempo os dados dos pacientes ser\xe3o mantidos na plataforma."})]}),(0,a.jsxs)(k.Fc,{variant:"default",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),(0,a.jsx)(k.XL,{children:"Seus Direitos"}),(0,a.jsxs)(k.TN,{children:["Voc\xea tem o direito de acessar, corrigir e excluir seus dados. Para mais informa\xe7\xf5es, consulte nossa "," ",(0,a.jsx)(m(),{href:"/privacy",className:"font-semibold hover:underline",children:"Pol\xedtica de Privacidade"})," e "," ",(0,a.jsx)(m(),{href:"/terms",className:"font-semibold hover:underline",children:"Termos de Servi\xe7o"}),"."]})]})]}),(0,a.jsx)(x.wL,{children:(0,a.jsx)(h.$,{disabled:!0,children:"Salvar Altera\xe7\xf5es"})})]})})]})]})}},34818:(e,r,s)=>{"use strict";s.d(r,{z:()=>i});var a=s(95155),t=s(64269);function i(e){let{title:r,children:s,className:i,...n}=e;return(0,a.jsxs)("div",{className:(0,t.cn)("flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-6",i),...n,children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:r}),s&&(0,a.jsx)("div",{className:"flex shrink-0 items-center gap-2",children:s})]})}},44846:(e,r,s)=>{"use strict";s.d(r,{d:()=>l});var a=s(95155),t=s(12115),i=s(27599),n=s(64269);let l=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(i.bL,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:r,children:(0,a.jsx)(i.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=i.bL.displayName},50916:(e,r,s)=>{"use strict";s.d(r,{BH:()=>l,pt:()=>o,wu:()=>n,zb:()=>d});var a=s(19708),t=s(9891),i=s(86501);function n(e,r,s){(0,a.BN)(e,r,s).catch(s=>{console.error("setDocumentNonBlocking failed:",s),t.d.emit("permission-error",new i.$({path:e.path,operation:"write",requestResourceData:r}))})}function l(e,r){return(0,a.gS)(e,r).catch(s=>{console.error("addDocumentNonBlocking failed:",s),t.d.emit("permission-error",new i.$({path:e.path,operation:"create",requestResourceData:r}))})}function o(e,r){(0,a.mZ)(e,r).catch(s=>{console.error("updateDocumentNonBlocking failed:",s),t.d.emit("permission-error",new i.$({path:e.path,operation:"update",requestResourceData:r}))})}function d(e,r){let s;s=void 0!==r&&"firestore"in e?(0,a.H9)(e,r):e,(0,a.kd)(s).catch(e=>{console.error("deleteDocumentNonBlocking failed:",e),t.d.emit("permission-error",new i.$({path:s.path,operation:"delete"}))})}},64269:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i});var a=s(2821),t=s(75889);function i(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,a.$)(r))}},65142:(e,r,s)=>{"use strict";s.d(r,{p:()=>n});var a=s(95155),t=s(12115),i=s(64269);let n=t.forwardRef((e,r)=>{let{className:s,type:t,...n}=e;return(0,a.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...n})});n.displayName="Input"},76444:(e,r,s)=>{"use strict";s.d(r,{J:()=>d});var a=s(95155),t=s(12115),i=s(32894),n=s(83101),l=s(64269);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(i.b,{ref:r,className:(0,l.cn)(o(),s),...t})});d.displayName=i.b.displayName},85897:(e,r,s)=>{"use strict";s.d(r,{BK:()=>o,eu:()=>l,q5:()=>d});var a=s(95155),t=s(12115),i=s(63366),n=s(64269);let l=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(i.bL,{ref:r,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t})});l.displayName=i.bL.displayName;let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(i._V,{ref:r,className:(0,n.cn)("aspect-square h-full w-full",s),...t})});o.displayName=i._V.displayName;let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(i.H4,{ref:r,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t})});d.displayName=i.H4.displayName},86501:(e,r,s)=>{"use strict";s.d(r,{$:()=>t});var a=s(59253);class t extends Error{constructor(e){let r=function(e){let r=null;try{let e=(0,a.xI)().currentUser;e&&(r=function(e){var r;if(!e)return null;let s={name:e.displayName,email:e.email,email_verified:e.emailVerified,phone_number:e.phoneNumber,sub:e.uid,firebase:{identities:e.providerData.reduce((e,r)=>(r.providerId&&(e[r.providerId]=[r.uid]),e),{}),sign_in_provider:(null==(r=e.providerData[0])?void 0:r.providerId)||"custom",tenant:e.tenantId}};return{uid:e.uid,token:s}}(e))}catch(e){}return{auth:r,method:e.operation,path:"/databases/(default)/documents/".concat(e.path),resource:e.requestResourceData?{data:e.requestResourceData}:void 0}}(e);super("Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n".concat(JSON.stringify(r,null,2))),this.name="FirebaseError",this.request=r}}},86948:(e,r,s)=>{"use strict";s.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>l,wL:()=>u});var a=s(95155),t=s(12115),i=s(64269);let n=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});n.displayName="Card";let l=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...t})});l.displayName="CardHeader";let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...t})});o.displayName="CardTitle";let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",s),...t})});d.displayName="CardDescription";let c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",s),...t})});c.displayName="CardContent";let u=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",s),...t})});u.displayName="CardFooter"},95283:(e,r,s)=>{Promise.resolve().then(s.bind(s,32448))},99470:(e,r,s)=>{"use strict";s.d(r,{u:()=>l});var a=s(12115),t=s(19708),i=s(9891),n=s(86501);function l(e){let[r,s]=(0,a.useState)(null),[l,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!e){s(null),o(!1),c(null);return}o(!0),c(null);let r=(0,t.aQ)(e,e=>{e.exists()?s({...e.data(),id:e.id}):s(null),c(null),o(!1)},r=>{let a=new n.$({operation:"get",path:e.path});c(a),s(null),o(!1),i.d.emit("permission-error",a)});return()=>r()},[e]),{data:r,isLoading:l,error:d}}}},e=>{e.O(0,[2992,7138,7112,9251,1659,955,7353,531,9118,5308,7356,7262,8441,1255,7358],()=>e(e.s=95283)),_N_E=e.O()}]);