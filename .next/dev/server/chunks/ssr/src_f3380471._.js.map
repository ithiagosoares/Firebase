{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/VitalLink-VF/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///home/user/VitalLink-VF/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///home/user/VitalLink-VF/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///home/user/VitalLink-VF/src/hooks/use-upload-file.ts"],"sourcesContent":["\nimport { useState } from 'react';\nimport { ref, uploadBytesResumable, getDownloadURL } from 'firebase/storage';\nimport { useFirebase } from '@/firebase/provider';\n\nexport function useUploadFile() {\n  // CORREÇÃO: Pega a instância do storage diretamente do provider.\n  const { storage } = useFirebase(); \n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const upload = async (file: File) => {\n    if (!storage) {\n      setError(\"Firebase Storage não foi inicializado.\");\n      return null;\n    }\n\n    setIsUploading(true);\n    setError(null);\n\n    try {\n      const storageRef = ref(storage, `attachments/${Date.now()}_${file.name}`);\n      const uploadTask = uploadBytesResumable(storageRef, file);\n\n      return new Promise<{ name: string; url: string } | null>((resolve, reject) => {\n        uploadTask.on(\n          'state_changed',\n          (snapshot) => {\n            // Opcional: pode-se adicionar lógica de progresso aqui\n          },\n          (error) => {\n            console.error(\"Erro no upload:\", error);\n            setError(\"Falha ao enviar o arquivo.\");\n            setIsUploading(false);\n            reject(null); // Rejeita a promise em caso de erro\n          },\n          async () => {\n            try {\n                const downloadURL = await getDownloadURL(uploadTask.snapshot.ref);\n                setIsUploading(false);\n                resolve({ name: file.name, url: downloadURL });\n            } catch (e) {\n                console.error(e);\n                setError(\"Falha ao obter a URL de download.\");\n                setIsUploading(false);\n                reject(null); // Rejeita a promise em caso de erro\n            }\n          }\n        );\n      });\n    } catch (e) {\n      console.error(e);\n      setError(\"Ocorreu um erro inesperado durante o upload.\");\n      setIsUploading(false);\n      return null;\n    }\n  };\n\n  return { upload, isUploading, error };\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AACA;;;;AAEO,SAAS;IACd,iEAAiE;IACjE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,2IAAW;IAC/B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,SAAS,OAAO;QACpB,IAAI,CAAC,SAAS;YACZ,SAAS;YACT,OAAO;QACT;QAEA,eAAe;QACf,SAAS;QAET,IAAI;YACF,MAAM,aAAa,IAAA,2LAAG,EAAC,SAAS,CAAC,YAAY,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,IAAI,EAAE;YACxE,MAAM,aAAa,IAAA,4MAAoB,EAAC,YAAY;YAEpD,OAAO,IAAI,QAA8C,CAAC,SAAS;gBACjE,WAAW,EAAE,CACX,iBACA,CAAC;gBACC,uDAAuD;gBACzD,GACA,CAAC;oBACC,QAAQ,KAAK,CAAC,mBAAmB;oBACjC,SAAS;oBACT,eAAe;oBACf,OAAO,OAAO,oCAAoC;gBACpD,GACA;oBACE,IAAI;wBACA,MAAM,cAAc,MAAM,IAAA,sMAAc,EAAC,WAAW,QAAQ,CAAC,GAAG;wBAChE,eAAe;wBACf,QAAQ;4BAAE,MAAM,KAAK,IAAI;4BAAE,KAAK;wBAAY;oBAChD,EAAE,OAAO,GAAG;wBACR,QAAQ,KAAK,CAAC;wBACd,SAAS;wBACT,eAAe;wBACf,OAAO,OAAO,oCAAoC;oBACtD;gBACF;YAEJ;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;YACd,SAAS;YACT,eAAe;YACf,OAAO;QACT;IACF;IAEA,OAAO;QAAE;QAAQ;QAAa;IAAM;AACtC"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///home/user/VitalLink-VF/src/components/uploaded-file.tsx"],"sourcesContent":["\nimport { Paperclip, X, Download } from 'lucide-react';\nimport { Button } from './ui/button';\n\ninterface UploadedFileProps {\n  fileName?: string;\n  fileSize?: number;\n  downloadUrl?: string;\n  onRemove: () => void;\n}\n\nexport function UploadedFile({ fileName, fileSize, downloadUrl, onRemove }: UploadedFileProps) {\n  const formatBytes = (bytes?: number) => {\n    if (bytes === undefined) return '';\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  }\n\n  return (\n    <div className=\"flex items-center justify-between p-2.5 rounded-md border border-muted bg-muted/50\">\n        <div className=\"flex items-center gap-3 truncate\">\n            <Paperclip className=\"h-5 w-5 flex-shrink-0 text-muted-foreground\" />\n            <div className=\"truncate\">\n                <p className=\"text-sm font-medium truncate\">{fileName || 'Arquivo anexado'}</p>\n                <p className=\"text-xs text-muted-foreground\">{formatBytes(fileSize)}</p>\n            </div>\n        </div>\n        <div className=\"flex items-center gap-1\">\n            {downloadUrl && (\n                <Button asChild variant=\"ghost\" size=\"icon\">\n                    <a href={downloadUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <Download className=\"h-4 w-4\" />\n                    </a>\n                </Button>\n            )}\n            <Button variant=\"ghost\" size=\"icon\" onClick={onRemove}>\n                <X className=\"h-4 w-4\" />\n            </Button>\n        </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AACA;;;;AASO,SAAS,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAqB;IAC3F,MAAM,cAAc,CAAC;QACnB,IAAI,UAAU,WAAW,OAAO;QAChC,IAAI,UAAU,GAAG,OAAO;QACxB,MAAM,IAAI;QACV,MAAM,QAAQ;YAAC;YAAS;YAAM;YAAM;YAAM;SAAK;QAC/C,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;QAChD,OAAO,WAAW,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,MAAM,MAAM,KAAK,CAAC,EAAE;IACzE;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,yNAAS;wBAAC,WAAU;;;;;;kCACrB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAE,WAAU;0CAAgC,YAAY;;;;;;0CACzD,8OAAC;gCAAE,WAAU;0CAAiC,YAAY;;;;;;;;;;;;;;;;;;0BAGlE,8OAAC;gBAAI,WAAU;;oBACV,6BACG,8OAAC,4IAAM;wBAAC,OAAO;wBAAC,SAAQ;wBAAQ,MAAK;kCACjC,cAAA,8OAAC;4BAAE,MAAM;4BAAa,QAAO;4BAAS,KAAI;sCACtC,cAAA,8OAAC,sNAAQ;gCAAC,WAAU;;;;;;;;;;;;;;;;kCAIhC,8OAAC,4IAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAO,SAAS;kCACzC,cAAA,8OAAC,iMAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAK7B"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///home/user/VitalLink-VF/src/components/template-form.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback } from \"react\"\nimport { FileUp } from \"lucide-react\"\nimport { useDropzone } from 'react-dropzone'\n\nimport { type Template, WithId } from \"@/lib/types\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { useUploadFile } from \"@/hooks/use-upload-file\"\nimport { UploadedFile } from \"@/components/uploaded-file\"\n\nexport type TemplateFormData = {\n  title: string;\n  body: string; \n  variables?: string[];\n  attachment?: {\n    name: string;\n    url: string;\n  } | null;\n}\n\nexport type TemplateFormProps = {\n  template?: WithId<Template> | null;\n  onSave: (data: TemplateFormData) => Promise<void>;\n  onCancel: () => void;\n};\n\nexport function TemplateForm({ template, onSave, onCancel }: TemplateFormProps) {\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [variables, setVariables] = useState<string[]>([]);\n  const [attachment, setAttachment] = useState<File | null>(null);\n  const [existingAttachment, setExistingAttachment] = useState(template?.attachment || null)\n  const [previewName, setPreviewName] = useState(\"Maria\"); // State for live preview\n\n  const { upload, isUploading, error: uploadError } = useUploadFile();\n\n  const onDrop = useCallback((acceptedFiles: File[]) => {\n    if (acceptedFiles.length > 0) {\n        setAttachment(acceptedFiles[0]);\n        setExistingAttachment(null)\n    }\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ \n    onDrop, \n    multiple: false, \n    accept: {\n      'image/*': ['.png', '.gif', '.jpeg', '.jpg'],\n      'application/pdf': ['.pdf'],\n    }\n  });\n\n  useEffect(() => {\n    if (template) {\n      setTitle(template.title);\n      setBody(template.body || \"\"); // CORREÇÃO: Garante que body nunca seja undefined\n      setVariables(template.variables || []);\n      setExistingAttachment(template.attachment || null);\n    }\n  }, [template]);\n\n  const handleSave = async () => {\n    let attachmentData = existingAttachment;\n\n    if (attachment) {\n        const uploadedFile = await upload(attachment);\n        if (uploadedFile) {\n            attachmentData = uploadedFile;\n        }\n    }\n\n    const data: TemplateFormData = { \n        title, \n        body, \n        variables: variables || [], \n        attachment: attachmentData \n    };\n    await onSave(data);\n  };\n\n  const removeAttachment = () => {\n    setAttachment(null)\n    setExistingAttachment(null)\n  }\n\n  return (\n    <div className=\"space-y-8\"> \n        <div className=\"grid gap-2\">\n            <Label htmlFor=\"title\">Título do Template</Label>\n            <Input id=\"title\" value={title} onChange={(e) => setTitle(e.target.value)} />\n        </div>\n\n        <div className=\"grid gap-2\">\n            <Label htmlFor=\"body\">Conteúdo da Mensagem</Label>\n            <Textarea id=\"body\" value={body} onChange={(e) => setBody(e.target.value)} rows={5} />\n            <p className=\"text-sm text-muted-foreground\">\n                {'Use chaves para variáveis, como {{cliente}}.'}\n            </p>\n        </div>\n\n        {/* Live Preview Section */}\n        <div className=\"grid gap-4 rounded-lg border bg-muted/40 p-4\">\n            <div className=\"flex items-center gap-2\">\n                <Label htmlFor=\"preview-name\" className=\"text-sm font-semibold whitespace-nowrap\">\n                    Exemplo com o nome:\n                </Label>\n                <Input \n                    id=\"preview-name\" \n                    value={previewName} \n                    onChange={(e) => setPreviewName(e.target.value)}\n                    className=\"h-8 w-auto flex-1\"\n                    placeholder=\"Ex: João, Maria...\"\n                />\n            </div>\n            <p className=\"text-sm font-semibold\">Pré-visualização:</p>\n            <div className=\"rounded-md border bg-background p-3 text-sm min-h-[60px]\">\n                {/* CORREÇÃO: Garante que a substituição não falhe se body for undefined */}\n                {(body || '').replace(/\\{\\{cliente\\}\\}/g, previewName || '...')}\n            </div>\n        </div>\n\n        <div \n            {...getRootProps()} \n            className={`border-2 border-dashed rounded-md p-6 text-center cursor-pointer \n                        ${isDragActive ? 'border-primary bg-primary/10' : 'border-border'}`}>\n            <input {...getInputProps()} />\n            <FileUp className=\"mx-auto h-8 w-8 text-muted-foreground\" />\n            {isDragActive ?\n                <p className=\"mt-2 text-sm text-primary\">Solte o arquivo aqui...</p> : \n                <p className=\"mt-2 text-sm text-muted-foreground\">Arraste e solte um anexo, ou clique para selecionar</p>\n            }\n        </div>\n\n        {(attachment || existingAttachment) && (\n            <div>\n                <Label>Anexo</Label>\n                <UploadedFile \n                    fileName={attachment?.name || existingAttachment?.name}\n                    fileSize={attachment?.size}\n                    downloadUrl={existingAttachment?.url}\n                    onRemove={removeAttachment}\n                />\n            </div>\n        )}\n        \n        {uploadError && <p className=\"text-sm text-destructive\">{uploadError}</p>}\n\n        <div className=\"flex justify-end gap-2\">\n            <Button variant=\"outline\" onClick={onCancel}>Cancelar</Button>\n            <Button onClick={handleSave} disabled={isUploading}>\n                {isUploading ? 'Salvando...' : 'Salvar Template'}\n            </Button>\n        </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAZA;;;;;;;;;;;AA8BO,SAAS,aAAa,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAqB;IAC5E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAW,EAAE;IACvD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAc;IAC1D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAC,UAAU,cAAc;IACrF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,UAAU,yBAAyB;IAElF,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,OAAO,WAAW,EAAE,GAAG,IAAA,sJAAa;IAEjE,MAAM,SAAS,IAAA,oNAAW,EAAC,CAAC;QAC1B,IAAI,cAAc,MAAM,GAAG,GAAG;YAC1B,cAAc,aAAa,CAAC,EAAE;YAC9B,sBAAsB;QAC1B;IACF,GAAG,EAAE;IAEL,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,GAAG,IAAA,uLAAW,EAAC;QAChE;QACA,UAAU;QACV,QAAQ;YACN,WAAW;gBAAC;gBAAQ;gBAAQ;gBAAS;aAAO;YAC5C,mBAAmB;gBAAC;aAAO;QAC7B;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;YACZ,SAAS,SAAS,KAAK;YACvB,QAAQ,SAAS,IAAI,IAAI,KAAK,kDAAkD;YAChF,aAAa,SAAS,SAAS,IAAI,EAAE;YACrC,sBAAsB,SAAS,UAAU,IAAI;QAC/C;IACF,GAAG;QAAC;KAAS;IAEb,MAAM,aAAa;QACjB,IAAI,iBAAiB;QAErB,IAAI,YAAY;YACZ,MAAM,eAAe,MAAM,OAAO;YAClC,IAAI,cAAc;gBACd,iBAAiB;YACrB;QACJ;QAEA,MAAM,OAAyB;YAC3B;YACA;YACA,WAAW,aAAa,EAAE;YAC1B,YAAY;QAChB;QACA,MAAM,OAAO;IACf;IAEA,MAAM,mBAAmB;QACvB,cAAc;QACd,sBAAsB;IACxB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,0IAAK;wBAAC,SAAQ;kCAAQ;;;;;;kCACvB,8OAAC,0IAAK;wBAAC,IAAG;wBAAQ,OAAO;wBAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0BAG5E,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,0IAAK;wBAAC,SAAQ;kCAAO;;;;;;kCACtB,8OAAC,gJAAQ;wBAAC,IAAG;wBAAO,OAAO;wBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBAAG,MAAM;;;;;;kCACjF,8OAAC;wBAAE,WAAU;kCACR;;;;;;;;;;;;0BAKT,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,0IAAK;gCAAC,SAAQ;gCAAe,WAAU;0CAA0C;;;;;;0CAGlF,8OAAC,0IAAK;gCACF,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAGpB,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;wBAAI,WAAU;kCAEV,CAAC,QAAQ,EAAE,EAAE,OAAO,CAAC,oBAAoB,eAAe;;;;;;;;;;;;0BAIjE,8OAAC;gBACI,GAAG,cAAc;gBAClB,WAAW,CAAC;wBACA,EAAE,eAAe,iCAAiC,iBAAiB;;kCAC/E,8OAAC;wBAAO,GAAG,eAAe;;;;;;kCAC1B,8OAAC,oNAAM;wBAAC,WAAU;;;;;;oBACjB,6BACG,8OAAC;wBAAE,WAAU;kCAA4B;;;;;6CACzC,8OAAC;wBAAE,WAAU;kCAAqC;;;;;;;;;;;;YAIzD,CAAC,cAAc,kBAAkB,mBAC9B,8OAAC;;kCACG,8OAAC,0IAAK;kCAAC;;;;;;kCACP,8OAAC,sJAAY;wBACT,UAAU,YAAY,QAAQ,oBAAoB;wBAClD,UAAU,YAAY;wBACtB,aAAa,oBAAoB;wBACjC,UAAU;;;;;;;;;;;;YAKrB,6BAAe,8OAAC;gBAAE,WAAU;0BAA4B;;;;;;0BAEzD,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,4IAAM;wBAAC,SAAQ;wBAAU,SAAS;kCAAU;;;;;;kCAC7C,8OAAC,4IAAM;wBAAC,SAAS;wBAAY,UAAU;kCAClC,cAAc,gBAAgB;;;;;;;;;;;;;;;;;;AAK/C"}},
    {"offset": {"line": 602, "column": 0}, "map": {"version":3,"sources":["file:///home/user/VitalLink-VF/src/components/page-header.tsx"],"sourcesContent":["\"use client\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface PageHeaderProps extends React.HTMLAttributes<HTMLDivElement> {\n  title: string\n}\n\nexport function PageHeader({ title, children, className, ...props }: PageHeaderProps) {\n  return (\n    <div\n      className={cn(\n        \"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-6\",\n        className\n      )}\n      {...props}\n    >\n      <h1 className=\"text-2xl md:text-3xl font-bold tracking-tight\">{title}</h1>\n      {children && <div className=\"flex shrink-0 items-center gap-2\">{children}</div>}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQO,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,OAAwB;IAClF,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,oFACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAG,WAAU;0BAAiD;;;;;;YAC9D,0BAAY,8OAAC;gBAAI,WAAU;0BAAoC;;;;;;;;;;;;AAGtE"}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"sources":["file:///home/user/VitalLink-VF/src/app/%28app%29/templates/new/page.tsx"],"sourcesContent":["'use client'\n\nimport { useRouter } from 'next/navigation'\nimport { collection, addDoc } from 'firebase/firestore'\nimport { TemplateForm, TemplateFormData } from '@/components/template-form'\nimport { useFirestore } from '@/firebase/provider'\nimport { useToast } from '@/hooks/use-toast'\nimport { PageHeader } from '@/components/page-header'\n\nexport default function NewTemplatePage() {\n  const router = useRouter()\n  const { toast } = useToast()\n  const firestore = useFirestore()\n\n  const handleSave = async (data: TemplateFormData) => {\n    if (!firestore) return;\n\n    try {\n      // CORREÇÃO: Salva na coleção raiz 'templates', para manter consistência com a edição.\n      const templatesCollection = collection(firestore, 'templates');\n      await addDoc(templatesCollection, data);\n\n      toast({ title: \"Template criado!\", description: \"Seu novo template foi salvo com sucesso.\" });\n      router.push('/templates');\n    } catch (error) {\n        console.error(\"Erro ao criar template: \", error)\n        toast({ title: \"Erro\", description: \"Ocorreu um erro ao salvar o template.\", variant: \"destructive\" });\n    }\n  };\n\n  const handleCancel = () => {\n    router.back();\n  };\n\n  return (\n    <>\n      <PageHeader title=\"Criar Novo Template\" />\n      <TemplateForm onSave={handleSave} onCancel={handleCancel} />\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wIAAQ;IAC1B,MAAM,YAAY,IAAA,4IAAY;IAE9B,MAAM,aAAa,OAAO;QACxB,IAAI,CAAC,WAAW;QAEhB,IAAI;YACF,sFAAsF;YACtF,MAAM,sBAAsB,IAAA,+KAAU,EAAC,WAAW;YAClD,MAAM,IAAA,2KAAM,EAAC,qBAAqB;YAElC,MAAM;gBAAE,OAAO;gBAAoB,aAAa;YAA2C;YAC3F,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;gBAAE,OAAO;gBAAQ,aAAa;gBAAyC,SAAS;YAAc;QACxG;IACF;IAEA,MAAM,eAAe;QACnB,OAAO,IAAI;IACb;IAEA,qBACE;;0BACE,8OAAC,kJAAU;gBAAC,OAAM;;;;;;0BAClB,8OAAC,sJAAY;gBAAC,QAAQ;gBAAY,UAAU;;;;;;;;AAGlD"}}]
}